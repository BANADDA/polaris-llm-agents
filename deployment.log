2025-02-11 16:04:28,268 - DeploymentService - INFO - Initializing DeploymentService
2025-02-11 16:04:28,268 - DeploymentService - INFO - Deploying model: gpt2 for user: dzanm1onxouyv5nau9bslbfd9sz2
2025-02-11 16:04:30,697 - DeploymentService - INFO - Model type found: text_generation
2025-02-11 16:04:30,697 - DeploymentService - INFO - Setting up SSH tunnel using config: {'host': '24.83.13.62', 'username': 'tang', 'port': '15000', 'password': 'Yogptcommune1'}
2025-02-11 16:04:35,059 - DeploymentService - INFO - Verifying Docker service status on remote machine
2025-02-11 16:04:38,188 - DeploymentService - INFO - Using free port: 8562
2025-02-11 16:04:38,188 - DeploymentService - INFO - Using image tag: dzanm1onxouyv5nau9bslbfd9sz2-gpt2:50b91d33
2025-02-11 16:04:38,188 - DeploymentService - INFO - Creating temporary directory on remote: /tmp/deploy_a7bb9a4b
2025-02-11 16:04:45,820 - DeploymentService - INFO - Generated Dockerfile at /tmp/deploy_a7bb9a4b/Dockerfile
2025-02-11 16:04:46,920 - DeploymentService - INFO - Generated requirements.txt at /tmp/deploy_a7bb9a4b/requirements.txt
2025-02-11 16:04:48,039 - DeploymentService - INFO - Generated app.py at /tmp/deploy_a7bb9a4b/app/app.py
2025-02-11 16:04:49,159 - DeploymentService - INFO - Generated auth_middleware at /tmp/deploy_a7bb9a4b/app/auth/middleware.py
2025-02-11 16:04:50,259 - DeploymentService - INFO - Generated auth_token at /tmp/deploy_a7bb9a4b/app/auth/token.py
2025-02-11 16:04:51,361 - DeploymentService - INFO - Generated auth_config at /tmp/deploy_a7bb9a4b/app/auth/config.json
2025-02-11 16:04:52,493 - DeploymentService - INFO - Generated api_inference at /tmp/deploy_a7bb9a4b/app/api/inference.py
2025-02-11 16:04:53,608 - DeploymentService - INFO - Generated api_token at /tmp/deploy_a7bb9a4b/app/api/token.py
2025-02-11 16:04:53,608 - DeploymentService - INFO - Building Docker image on remote machine
2025-02-11 16:04:54,958 - DeploymentService - INFO - Build result: DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/
2025-02-11 16:04:56,343 - DeploymentService - INFO - Starting container on remote
2025-02-11 16:04:59,201 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb is running
2025-02-11 16:05:00,388 - DeploymentService - INFO - Creating persistent tunnel for gpt2-79137
2025-02-11 16:05:10,557 - DeploymentService - INFO - Tunnel created successfully: https://gpt2-79137.loca.lt
2025-02-11 16:05:12,071 - DeploymentService - INFO - Cleaning up temporary files
2025-02-11 16:05:12,861 - DeploymentService - INFO - Deployment successful; returning connection details
2025-02-11 16:05:12,861 - DeploymentService - INFO - Starting log streaming for container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb
2025-02-11 16:05:18,048 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:23,881 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:29,699 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:35,547 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:41,386 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:47,278 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:53,179 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:05:59,007 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:06:04,825 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:06:10,631 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-11 16:06:16,445 - DeploymentService - INFO - Container 39852412101f4724b7e47ad7b36b519367a5471ffdd54bed36a76d688299bddb logs:
INFO:app.app:Loading model and tokenizer for: gpt2
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
INFO:app.app:Model loaded successfully
INFO:app.app:Model loaded successfully using transformers backend
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     172.17.0.1:51396 - "OPTIONS /token?user_id=dzanm1onxouyv5nau9bslbfd9sz2&model_id=gpt2 HTTP/1.1" 200 OK
INFO:     172.17.0.1:51396 - "GET /token?user_id=dzanm1onxouyv5nau9bslbfd9sz2&model_id=gpt2 HTTP/1.1" 405 Method Not Allowed
2025-02-11 16:59:05,140 - DeploymentService - INFO - Initializing DeploymentService
2025-02-11 16:59:05,140 - DeploymentService - INFO - Deploying model: gpt2-large for user: dzanm1onxouyv5nau9bslbfd9sz2
2025-02-11 16:59:08,320 - DeploymentService - INFO - Model type found: text_generation
2025-02-11 16:59:08,320 - DeploymentService - INFO - Setting up SSH tunnel using config: {'host': '24.83.13.62', 'username': 'tang', 'port': '15000', 'password': 'Yogptcommune1'}
2025-02-11 16:59:12,820 - DeploymentService - INFO - Verifying Docker service status on remote machine
2025-02-11 16:59:16,037 - DeploymentService - INFO - Using free port: 8878
2025-02-11 16:59:16,037 - DeploymentService - INFO - Using image tag: dzanm1onxouyv5nau9bslbfd9sz2-gpt2-large:d579d67b
2025-02-11 16:59:16,037 - DeploymentService - INFO - Creating temporary directory on remote: /tmp/deploy_31eec9f4
2025-02-11 16:59:23,822 - DeploymentService - INFO - Generated Dockerfile at /tmp/deploy_31eec9f4/Dockerfile
2025-02-11 16:59:24,933 - DeploymentService - INFO - Generated requirements.txt at /tmp/deploy_31eec9f4/requirements.txt
2025-02-11 16:59:26,086 - DeploymentService - INFO - Generated app.py at /tmp/deploy_31eec9f4/app/app.py
2025-02-11 16:59:27,219 - DeploymentService - INFO - Generated auth_middleware at /tmp/deploy_31eec9f4/app/auth/middleware.py
2025-02-11 16:59:28,343 - DeploymentService - INFO - Generated auth_token at /tmp/deploy_31eec9f4/app/auth/token.py
2025-02-11 16:59:29,517 - DeploymentService - INFO - Generated auth_config at /tmp/deploy_31eec9f4/app/auth/config.json
2025-02-11 16:59:30,645 - DeploymentService - INFO - Generated api_inference at /tmp/deploy_31eec9f4/app/api/inference.py
2025-02-11 16:59:31,762 - DeploymentService - INFO - Generated api_token at /tmp/deploy_31eec9f4/app/api/token.py
2025-02-11 16:59:31,762 - DeploymentService - INFO - Building Docker image on remote machine
2025-02-11 16:59:33,145 - DeploymentService - INFO - Build result: DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/
2025-02-11 16:59:34,570 - DeploymentService - INFO - Starting container on remote
2025-02-11 16:59:37,368 - DeploymentService - INFO - Container fd50c91b6439dc041dc7257749c34f768ee3281576b157053c399bad629d65fa is running
2025-02-11 16:59:38,608 - DeploymentService - INFO - Creating persistent tunnel for gpt2-large-17802
2025-02-11 16:59:56,412 - DeploymentService - INFO - Tunnel created successfully: https://gpt2-large-17802.loca.lt
2025-02-11 16:59:57,906 - DeploymentService - INFO - Cleaning up temporary files
2025-02-11 16:59:58,727 - DeploymentService - INFO - Deployment successful; returning connection details
2025-02-11 16:59:58,727 - DeploymentService - INFO - Starting log streaming for container fd50c91b6439dc041dc7257749c34f768ee3281576b157053c399bad629d65fa
2025-02-11 17:00:04,085 - DeploymentService - INFO - Container fd50c91b6439dc041dc7257749c34f768ee3281576b157053c399bad629d65fa logs:
INFO:app.app:Loading model and tokenizer for: gpt2-large
INFO:app.app:Loading model using transformers backend
INFO:app.app:Loading standard tokenizer
INFO:app.app:Loading model in CPU mode with optimizations
